<!DOCTYPE html>
<html>
<head>
  <!-- Import Vega & Vega-Lite (does not have to be from CDN) -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5.22.1"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.5.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.21.0"></script>
  
  <!-- Import pure.css -->
  <link rel="stylesheet" href="https://unpkg.com/purecss@2.0.3/build/pure-min.css" integrity="sha384-cg6SkqEOCV1NbJoCu11+bm0NvBRc8IYLRGXkmNrqUBfTjmMYwNKPWBTIKyw9mHNJ" crossorigin="anonymous">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Google font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet">

  <!-- CSS file -->
  <link rel="stylesheet" type="text/css" href="styles.css" media="all">


</head>
<body>
        
    <div class = "page">

        <!-- Title of Visualisation -->
        <!-- pure grid group -->
        <div class="pure-g">
            <div class="pure-u-1-1">
            <h1>A View into New York's Airbnbs</h1>
            <h5>By: William Winata</h5>
            <p>This data visualisation aims to show the factors and prices of Airbnbs throughout New York based on each County and neighbourhood, according to the Airbnb data by Arian Azmoudeh.</p>
            </div>
        </div>
        <!-- end pure grid group -->
        

        <!-- First row: Choropleth Map -->
        <!-- pure grid group -->
        <div class="pure-g">
            <div class="pure-u-2-3">
                <div id="choropleth" class="vis-container"></div>
            </div>

            <div class="pure-u-1-3">
                <div class="description description-right">
                    <h2> Main Airbnb hotspots </h2>
                    <p> The map shown on the right analyses the main Airbnb hotspots and location separated by different counties. 
                        From here, it can be seen that the main Airbnb data is sourced from areas nearby the New York county, mainly in areas of Bronx, Nassau, New York, Kings and Queens. 
                        However, there are some sparse distributions of Airbnb's in the other counties such as Erie, Allegany, St. Lawrence and others. 
                        Looking at this distribution, it seems that Saratoga has the highest average price for Airbnb's across the whole of New York. However, this might be skewed due to the lack of data in these other counties.
                        <br> Among Queens, Kings, Bronx and New York counties, they all have a similar average Airbnb price ranging from a minimum average of $623.25 in New York to as high as $632.44 in Bronx. 
                        Likewise, the areas nearby the New York county has the highest service fees, with Nassau having the highest at $127.37 and the lowest being $124.65 in New York. 
                        However, throughout the whole New York, Wyoming has both the lowest average price and service fees at $578.22 and $115.67 respectively,
                        but this may be due to the lack of data that is, having only 9 Airbnbs recorded in that county.
                    </p>
                </div>
            </div>
        </div>
        <!-- end pure grid group -->


        <!-- Second row: Pie charts -->
        <!-- pure grid group -->
        <div class="pure-g">
            <div class="pure-u-2-3">
                <div class="description description-left">
                    <h2> Distribution of Airbnbs </h2>
                    <p> From this pie chart we are able to visualise the distribution of Airbnb's across the data. From here, it can be observed that most of the Airbnb's listed are located in the New York, Kings, Queens, Bronx and Nassau counties, while the rest make up
                        a small portion of the observations. As shown from the above map and the corresponding pie chart, New York, Kings, Queens, Bronx and Nassau make up 41%, 41%, 12%, 2% and 1% of all the Airbnb's distributed in New York, whilst the remaining counties only make up
                        that final 1-3%~. The map above also shows the respective number of Airbnbs recorded for each of New York, Kings, Queens, Bronx and Nassau, that is 34 755, 34 523, 10 253, 2044 and 1241 respectively.
                    </p>
                </div>
            </div>

            <div class="pure-u-1-3">
                <div id="pie1" class="vis-container"></div>
            </div>
        </div>
        <!-- end pure grid group -->
        

        <!-- Third row: Bubble charts -->
        <!-- pure grid group -->
        <div class="pure-g">
            <div class="pure-u-2-3">
                <div id="bubble" class="vis-container"></div>
            </div>

            <div class="pure-u-1-3">
                <div class="description description-right">
                    <h2> Reviews and Price, Are they related? </h2>
                    <p> The comparison between price and average rating seems to have no specific trend, rather than that, most Airbnb's seem to be clustering at the $630 price point and an average rating of 3.3 out of 5. Out of the 4 counties, New York is the one that
                        has the least variance, having most of their Airbnb's tightly packed within that cluster. There are some neighbourhood groups in which seem to be outliers in the data, due to mainly low number of reviews. 
                        <br>
                        In this visualisation, Little Neck is annotated, due to having the highest average price neighbourhood compared to all the other neighbourhood, and its location is in the Queens county. However, this may be skewed due to the low number of reviews, being only 40, compared to some neighbourhoods with over thousands of total reviews.
                        Overall, this seems to suggest that the Airbnb market in New York has stayed consistent throughout all its counties, averaging at a price point of $630 and an average rating of 3.3.
                    </p>
                </div>
            </div>
        </div>
        <!-- end pure grid group -->


        <!-- Fourth row: Heading of Double grouped bar-->
        <!-- pure grid group -->
        <div class="pure-g">
            <div class="pure-u-1-1">
                <h2>Room Type and Cancellation Policy analysis</h2>
            </div>
        </div>
        <!-- end pure grid group -->


        <!-- Fifth row: Double grouped bar charts -->
        <!-- pure grid group -->
        <div class="pure-g">
            <div class="pure-u-1-2">
                <div id="sbar1" class="vis-container"></div>
            </div>

            <div class="pure-u-1-2">
                <div id="sbar2" class="vis-container"></div>
            </div>
        </div>
        <!-- end pure grid group -->


        <!-- Sixth row: Explanation for grouped bars -->
        <!-- pure grid group -->
        <div class="pure-g">
            <div class="pure-u-1-1">
                    <p> Finally, after comparing prices and reviews, the above 2 grouped bar charts shows the relationship of the remaining 2 important variables, room type as well as cancellation policy for the chosen 4 counties, which are Bronx, Kings, New York, and Queens. This choice
                        was made due to most Airbnb's are located in these 4 counties throughout New York, making up roughly 96%~ of all Airbnbs in the dataset. The first chart indicates that hotel rooms seem to have the highest average ratings, and is even at a 5 rating for Queens. Furthermore, the missing bar in Bronx indicates that
                        Airbnb's in Bronx seem to be focused more on entire homes and apartments, private and or shared rooms, rather than luxury hotel rooms. The graph also indicates that shared rooms seems to have the lowest average reviews across all the counties with the exception of Kings, possibly showing the preference of privacy
                        for those who want to stay at these Airbnbs. 
                        
                        <br> Regarding cancellation policy, there is a slight difference between being moderate, flexible and strict for these 4 counties, with moderate having slightly higher reviews in Kings, New York and Bronx. However, as most of the cancellation policies have similar ratings across the 4 different counties, it seems that
                        most people do not really have a preference for cancellation policy rule and this factor may not be as important in affecting customer satisfaction and hence, their reviews. Regardless of having a flexible, moderate or strict policy, the reviews are centered around the mean of 3.3 average rating.
                    </p>
            </div>
        </div>
        <!-- end pure grid group -->
</div>

    <script type="text/javascript">

    var c_map = "map.vg.json";
    vegaEmbed('#choropleth', c_map, { "actions": false }).then(function(result) {
    }).catch(console.error);

    var p1_chart = "pie1.vg.json";
    vegaEmbed('#pie1', p1_chart, { "actions": false }).then(function(result) {
    }).catch(console.error);

    var b_chart = "bubble.vg.json";
    vegaEmbed('#bubble', b_chart, { "actions": false }).then(function(result) {
    }).catch(console.error);

    var sb1_chart = "stacked_room.vg.json";
    vegaEmbed('#sbar1', sb1_chart, { "actions": false }).then(function(result) {
    }).catch(console.error);

    var sb2_chart = "stacked_policy.vg.json";
    vegaEmbed('#sbar2', sb2_chart, { "actions": false }).then(function(result) {
    }).catch(console.error);

    </script>

</body>
</html>