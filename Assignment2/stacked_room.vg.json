{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "data": {
      "url": "https://raw.githubusercontent.com/Will0Wisps/FIT3179-2022/main/Assignment2/airbnb2.csv"
    },
    "width": "container",
    "transform": [
      {
        "filter": "indexof([\"Kings\", \"New York\", \"Bronx\", \"Queens\"], datum.County) >= 0"
      },
      {
        "aggregate": [{"op": "average", "field": "review rate number", "as": "Average Review"}],
        "groupby": ["County", "room type"]
      }
    ],  
    "mark": "bar",
    "encoding": {
      "x": { "field": "County", "type": "ordinal" },
      "y": { "field": "Average Review", 
      "type": "quantitative", 
      "scale": {"domain": [0,5]} 
    },
      "xOffset": {"field": "room type"},
      "title": "Room Type",
      "color": {"field": "room type"},
      "scale": {"range": ["#F7ACCF", "#E8F0FF", "#6874E8", "#392759"]}
    }
  }